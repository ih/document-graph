<template name="nodeListPanel">
	<div class="node-list-panel">
		{{#if showCount}}
		<div class="node-count">
			<span class="badge">{{count getLinkedNodes}}</span>
		</div>
		{{else}}
		<div class="node-list-panel-controls">
			<span class="close-panel glyphicon glyphicon-remove"></span>
			<select class="form-control sort-property">
				<option value="occurence" {{selected 'occurrence'}}>Occurence</option>
				<option value="rating" {{selected 'rating'}}>Rating</option>
				<option value="createTime" {{selected 'createTime'}}>Link Time</option>
			</select>
		</div>
		<button class="btn btn-default sort-direction">
			<span class="glyphicon {{sortDirection}}"></span>
		</button>
		<div>
			<ol class="list-unstyled">
				{{#each getLinkedNodes}}
				<li>
					{{> nodePreview this}}
				</li>
				{{/each}}
			</ol>
		</div>
		{{/if}}
	</div>
</template>

<template name="nodePreview">
	<div class="node-preview panel panel-default">
		<div class="panel-heading">
			<h3 class="panel-title title"><a href="/node/{{_id}}">{{title}}</a></h3>
		</div>
		<div class="panel-body">
			{{content}}
		</div>
		<div class="panel-footer">
			<button class="btn unlink">Unlink</button>
		</div>
	</div>
</template>

